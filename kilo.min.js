!function(){function n(n){var r=n.lastIndexOf(".");return r>-1&&n.indexOf("/")<0?n.substr(r+1):n}function r(n){var r=n.lastIndexOf(".");return n.indexOf("/")<0&&r>-1?n.substr(0,r):"_"}function t(){function t(n,r,t){t(l[n]?l[n][r]:null)}function e(n,r,t){if(!f[n])return void t(null);var e=f[n][r];return e?void s(e.deps,e.func,[],function(e){l[n]||(l[n]={}),t(l[n][r]=e)}):void t(null)}function i(n,r,t,e){var o=t.shift();o&&o(n,r,function(o){return o?void e(o):void i(n,r,t,e)})}function s(t,e,o,u){var a=t.shift();if(!a){var f=e.apply(c,o);return void(u&&u(f))}var l=r(a),d=n(a);i(l,d,c.handlers.slice(0),function(n){o.push(n),s(t,e,o,u)})}var f={_:{}},l={_:{Util:a}},c={register:function(t,e,o){a.isFunction(e)&&(o=e,e=[]);var i=r(t);f[i]||(f[i]={}),f[i][n(t)]={deps:e,func:o}},use:function(n,r){var t;return a.isFunction(n)&&n.apply(c,[]),a.isString(n)&&(n=[n]),a.isArray(n)&&(r?s(n.slice(0),r,[]):s(n.slice(0),function(n){t=n},[])),t},handlers:[t,o,e,u]};return c}function e(n,r){return"application/json"==n.substr(0,16)?JSON.parse(r):r}function o(n,r,t){if(r.indexOf("/")<0)return void t(null);var o=new XMLHttpRequest;o.onerror=function(){a.error("Network error.")},o.onload=function(){var n=n||this.getResponseHeader("content-type")||"";this.status>=400?t(null):t(e(n,this.responseText),this.status)},o.open("get",r,!0),o.send()}function i(){var n=document.getElementsByTagName("html");if(n[0])return n[0].querySelectorAll("*")}function u(n,r,t,e){var o=[],u=e?e.querySelectorAll("*"):i(),s=r.indexOf("[]");-1!=s&&(r=r.substring(0,s));for(var a=0,f=u.length;f>a;a++){var l=u[a];l.hasAttribute("data-"+r)&&o.push(l)}t(-1===s?o[0]:0==o.length?null:o)}for(var s="kilo",a={isDefined:function(n){return"undefined"!=typeof n},def:function(n,r){return"undefined"==typeof n?r:n},error:function(n){throw new Error(s+": "+n)},warn:function(n){a.log("Warning: "+n)},log:function(n){c.log&&console.log(s+": "+n)},argsToArray:function(n){return Array.prototype.slice.call(n)},rand:function(n,r){return r=r||0,r>n&&a.error("rand: invalid range."),Math.floor(Math.random()*(n-r+1))+r}},f=["Array","Object","Boolean","Arguments","Function","String","Number","Date","RegExp"],l=0;l<f.length;l++)a["is"+f[l]]=function(n){return function(r){return Object.prototype.toString.call(r)=="[object "+n+"]"}}(f[l]);var c={log:!0},d=t();return window.register||(window.register=d.register),window.use||(window.use=d.use),c}();