!function(){"use strict";function n(n){var r=n.lastIndexOf(".");return r>-1&&n.indexOf("/")<0?n.substr(r+1):n}function r(n){var r=n.lastIndexOf(".");return n.indexOf("/")<0&&r>-1?n.substr(0,r):a}function e(){function e(n){for(var r,e=0;e<p.length;e++){var t=p[e];if(r=n.match(t.pattern))return{name:r[1],cb:t.cb}}return{name:n}}function t(n,r){for(var e=0;e<n.length;){var t=g[n[e++]];if(t&&(r==f||t[r]))return t}}function o(n,r){var e=n.name,i=t(n.nsList,e);if(!i)return void r();if(e==f){var o=[];for(var u in i)u!==n.ignore&&o.push(i[u]);return void d(o,r,{})}return i[e]?void d([i[e]],function(n){r(n[e])},{}):void r()}function s(n,r){return n.apply(h,r)}function d(n,r,e){var t=n.shift();return t?t.resolved?(e[t.name]=t.resolved,void d(n,r,e)):void l(t.deps.slice(0),function(i){e[t.name]=t.resolved=s(t.func,i),d(n,r,e)},[],t.ns,t.name):void r(e)}function l(t,i,o,u,s){if(!t)return void i();var f=t.shift();if(!f)return void i(o);var d=r(f),c=d==a?[u,a]:[d,u,a],g=e(n(f));v({nsList:c,name:g.name,ignore:s},h.handlers.slice(0),function(n){g.cb&&(n=g.cb(n)),o.push(n),l(t,i,o,u,s)})}function v(n,r,e){var t=r.shift();return t?void t(n,function(t){return t?void e(t):void v(n,r,e)}):void e()}var g={_:{}},p=[],h={register:function(e,t,i){c.isFunction(t)&&(i=t,t=[]);var o=r(e),u=n(e);return g[o]||(g[o]={}),g[o][u]={ns:o,name:u,deps:t,func:i,resolved:null},this},use:function(n,r){var e;return c.isString(n)&&(n=[n]),c.isArray(n)?r?void setTimeout(function(){l(n.slice(0),function(n){s(r,n)},[])},1):(l(n.slice(0),function(n){e=n[0]},[]),e):void 0},add:function(n,r,e){return e=e||a,g[e][n]={ns:e,name:n,resolved:r},this},unresolve:function(n,r){return r=r||a,g[r]&&g[r][n]&&(g[r][n].resolved=null),this},addInterceptor:function(n,r){return p.push({pattern:n,cb:r}),this},handlers:[o,u,i]};return h.register.lib=h.add,h}function t(n,r){return"application/json"==n.substr(0,16)?JSON.parse(r):r}function i(n,r){var e=n.name;if(e.indexOf("/")<0)return void r();var i=new XMLHttpRequest;i.onerror=function(){c.error("Network error.")},i.onload=function(){var n=n||this.getResponseHeader("content-type")||"";this.status>=300?r():r(t(n,this.responseText),this.status)},i.open("get",e,!0),i.send()}function o(n){return n=n?n.querySelectorAll("*"):document.getElementsByTagName("html"),n[0]?n[0].querySelectorAll("*"):void 0}function u(n,r,e){var t=n.name,i=[],u=o(e);if(!u)return void r();var s=t.indexOf("[]");0>s&&(t=t.substring(0,s));for(var a=0,f=u.length;f>a;a++){var d=u[a];d.hasAttribute("data-"+t)&&i.push(d)}r(-1==s?i[0]:0==i.length?void 0:i)}for(var s="kilo",a="_",f="*",d=["Array","Object","Boolean","Arguments","Function","String","Number","Date","RegExp"],c={isDefined:function(n){return"undefined"!=typeof n},def:function(n,r){return"undefined"==typeof n?r:n},error:function(n){throw new Error(s+": "+n)},warn:function(n){c.log("Warning: "+n)},log:function(n){v.log&&console.log(s+": "+n)},argsToArray:function(n){return Array.prototype.slice.call(n)},rand:function(n,r){return r=r||0,r>n&&c.error("rand: invalid range."),Math.floor(Math.random()*(n-r+1))+r}},l=0;l<d.length;l++)c["is"+d[l]]=function(n){return function(r){return Object.prototype.toString.call(r)=="[object "+n+"]"}}(d[l]);var v={log:!0},g=e();g.add("Injector",g).add("Util",c).add("config",v).add("element",function(n,r,e){u({name:n},r,e)}),"undefined"!=typeof exports?(exports.register=g.register,exports.use=g.use):(window.register||(window.register=g.register),window.use||(window.use=g.use))}();