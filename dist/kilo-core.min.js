!function(e){"use strict";function n(e){var n;e&&("complete"===document.readyState?e(document):n=setInterval(function(){"complete"===document.readyState&&(e(document),clearInterval(n))},10))}function t(e){var n;if(s.isObject(e))for(n in e)e.hasOwnProperty(n)&&l.register(n,[],function(e){return function(){return e}}(e[n]))}function r(e,n,t){var r,o,i;for(r=0,o=n.length;o>r;r++)i=n[r],i.hasAttribute("data-"+e)&&(g[e]||(g[e]=[]),g[e].push(i),t(i))}function o(e,t){n(function(n){var r,o,i,u,s;if(!a){if(r=n.getElementsByTagName("body"),!r||!r[0])return;a=r[0].querySelectorAll("*")}for(s=e.indexOf("[]"),-1!==s&&(e=e.substring(0,s)),o=0,i=a.length;i>o;o++)u=a[o],u.hasAttribute("data-"+e)&&(g[e]||(g[e]=[]),g[e].push(u));t(-1===s?g[e][0]:g[e])})}function i(e,n,t,o,i){function u(e){var n=i?{container:i,element:e}:e;t?l.resolve(t,function(e){o.apply(n,e)}):o.call(n)}r(e,n,u)}var u,s,l,c,a,f={},d={},g={},p=void 0,v=e;s={isDefined:function(e){return"undefined"!=typeof e},isBoolean:function(e){return"boolean"==typeof e},def:function(e,n){return"undefined"==typeof e?n:e},error:function(e){throw new Error(v+": "+e)},warn:function(e){s.log("Warning: "+e)},log:function(e){u.log&&console.log(v+": "+e)},argsToArray:function(e){return Array.prototype.slice.call(e)},getGID:function(e){return e=s.def(e,""),d[e]=s.def(d[e],0),e+ ++d[e]},rand:function(e,n){return n=n||0,(n>e||n>e)&&s.error("rand: invalid range."),Math.floor(Math.random()*(e-n+1))+n}},c=["Array","Object","Arguments","Function","String","Number","Date","RegExp","HTMLImageElement"];for(var y=0;y<c.length;y++)s["is"+c[y]]=function(e){return function(n){return Object.prototype.toString.call(n)==="[object "+e+"]"}}(c[y]);return l={unresolved:{},modules:{},register:function(e,n,t,r){return this.unresolve(e),this.unresolved[e]={deps:n,func:t,scope:r},this},unresolve:function(e){this.modules[e]&&delete this.modules[e]},setModule:function(e,n){return this.modules[e]=n,this},getDependency:function(e,n){var t=this.modules[e];return t?void n(t):(t=this.unresolved[e])?(s.log("Resolving dependencies for '"+e+"'"),void this.resolveAndApply(t.deps,t.func,t.scope,function(t){s.isObject(t)&&(t.getType=function(){return e}),n(t)})):void o(e,function(t){t?n(t):s.warn("Module '"+e+"' not found")})},resolve:function(e,n){var t,r,o=[];if(!e||!e.length)return void n();for(r=0;r<e.length;r++)t=e[r],this.getDependency(t,function(r){r?o.push(r):s.error("Can't resolve "+t),o.length===e.length&&n(o)})},apply:function(e,n,r){var o=n.apply(r||u,e);return t(o),o},resolveAndApply:function(e,n,t,r){var o=this;this.resolve(e,function(e){var i=o.apply(e,n,t);r&&r(i)})},process:function(e,n){var t,r,o;if(s.isArray(e))for(t=0,r=e.length;r>t;t++)o=e[t],s.isString(o)?this.getDependency(o,function(e){n(e)}):n(o);else s.isString(e)?this.getDependency(e,function(e){n(e)}):n(e)}},u=function(e,n,t,r){return s.isArray(e)?l.resolveAndApply(e,n,t):s.isFunction(e)?l.apply([],e,n):s.isArray(n)&&s.isFunction(t)?l.register(e,n,t,r):s.isFunction(n)&&l.register(e,[],n,t),null},u.use=function(e,n,t){s.isString(e)&&(e=[e]),u(e,n,t)},u.register=function(e,n,t,r){u(e,n,t,r)},u.unresolve=function(e){l.unresolve(e)},u.noConflict=function(){return window[e]=p,u},u.element=function(e,t,r){var o;return s.isFunction(t)?r=t:s.isArray(t)?o=t:s.error("element: second argument should be function or dependency array."),n(function(n){var t;if(!a){if(t=n.getElementsByTagName("body"),!t||!t[0])return;a=t[0].querySelectorAll("*")}i(e,a,o,r)}),this},u.subElement=function(e,t,r,o){var u;return s.isFunction(r)?o=r:s.isArray(r)?u=r:s.error("subElement: third argument should be function or dependency array."),n(function(){var n,r,s,l,c=g[t];for(n=0,s=c.length;s>n;n++)l=c[n],r=l.querySelectorAll("*"),i(e,r,u,o,l)}),this},u.onDocumentReady=u.ready=n,u.log=!0,l.setModule("helper",s).setModule("Helper",s).setModule("Util",s).setModule("injector",l).setModule("Injector",l).setModule("Element",u.element).setModule("SubElement",u.subElement).setModule("appConfig",f),window[e]&&(s.warn("a preexisting value at namespace '"+e+"' has been overwritten."),p=window[e]),window[e]=u,window.register||(window.register=u.register),window.use||(window.use=u.use),u}("kilo");