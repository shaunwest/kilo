!function(e){"use strict";function n(e){var n;e&&("complete"===document.readyState?e(document):n=setInterval(function(){"complete"===document.readyState&&(e(document),clearInterval(n))},10))}function t(e){var n;if(c.isObject(e))for(n in e)e.hasOwnProperty(n)&&a.register(n,[],function(e){return function(){return e}}(e[n]))}function r(e,t,r){n(function(n){var o,i,u,s,c,a=[];if(t)s=t.querySelectorAll("*");else{if(!f){if(t=n.getElementsByTagName("body"),!t||!t[0])return;f=t[0].querySelectorAll("*")}s=f}for(c=e.indexOf("[]"),-1!==c&&(e=e.substring(0,c)),o=0,i=s.length;i>o;o++)u=s[o],u.hasAttribute("data-"+e)&&a.push(u);r(-1===c?a[0]:a)})}function o(e,n){switch(e){case"application/json":case"application/json; charset=utf-8":return JSON.parse(n);default:return n}}function i(e,n,t){var r=new XMLHttpRequest;t&&r.addEventListener("progress",function(e){t(e.loaded,e.total)},!1),r.onerror=function(){c.error("Network error.")},r.onload=function(){var e=e||this.getResponseHeader("content-type");switch(this.status){case 500:case 404:n(this.statusText,this.status);break;case 304:default:n(o(e,this.responseText),this.status)}},r.open("get",e,!0),r.send()}function u(e,n,t,r){c.isArray(n)&&c.isFunction(t)?a.register(e,n,t,r):c.isFunction(n)&&a.register(e,[],n,t)}var s,c,a,l,f,d={},p={},g=void 0,v=e;c={isDefined:function(e){return"undefined"!=typeof e},isBoolean:function(e){return"boolean"==typeof e},def:function(e,n){return"undefined"==typeof e?n:e},error:function(e){throw new Error(v+": "+e)},warn:function(e){c.log("Warning: "+e)},log:function(e){s.log&&console.log(v+": "+e)},argsToArray:function(e){return Array.prototype.slice.call(e)},getGID:function(e){return e=c.def(e,""),p[e]=c.def(p[e],0),e+ ++p[e]},rand:function(e,n){return n=n||0,(n>e||n>e)&&c.error("rand: invalid range."),Math.floor(Math.random()*(e-n+1))+n}},l=["Array","Object","Arguments","Function","String","Number","Date","RegExp","HTMLImageElement"];for(var h=0;h<l.length;h++)c["is"+l[h]]=function(e){return function(n){return Object.prototype.toString.call(n)==="[object "+e+"]"}}(l[h]);return a={unresolved:{},modules:{},register:function(e,n,t,r){return this.unresolve(e),this.unresolved[e]={deps:n,func:t,scope:r},this},unresolve:function(e){return this.modules[e]&&delete this.modules[e],this},setModule:function(e,n){return this.modules[e]=n,this},getDependency:function(e,n){var t,o;return t=this.modules,(o=t[e])?void n(o):-1!=e.indexOf("/")?void i(e,n):(o=this.unresolved[e])?(c.log("Resolving dependencies for '"+e+"'"),void this.resolveAndApply(o.deps,o.func,o.scope,function(r){c.isObject(r)&&(r.getType=function(){return e}),t[e]=r,n(r)})):void r(e,null,function(t){t?n(t):c.warn("Module '"+e+"' not found")})},resolve:function(e,n,t,r){var o,i=this;return e?(t=c.def(t,0),(o=e[t])?void this.getDependency(o,function(u){r||(r=[]),u?r.push(u):c.error("Can't resolve "+o),i.resolve(e,n,t+1,r)}):void n(r)):void done()},apply:function(e,n,t){var r=n.apply(t||s,e);return r},resolveAndApply:function(e,n,t,r){var o=this;this.resolve(e,function(e){var i=o.apply(e,n,t);r&&c.isFunction(r)&&r(i)})},process:function(e,n){var t,r,o;if(c.isArray(e))for(t=0,r=e.length;r>t;t++)o=e[t],c.isString(o)?this.getDependency(o,function(e){n(e)}):n(o);else c.isString(e)?this.getDependency(e,function(e){n(e)}):n(e)}},s=function(){},s.use=function(e,n,t,r){var o;c.isString(e)?a.resolveAndApply([e],n,t,r):c.isArray(e)?a.resolveAndApply(e,n,t,r):c.isFunction(e)&&(o=a.apply([],e,n),r&&r(o))},s.use.defer=function(e,n,t){return function(r){s.use(e,n,t,r)}},s.use.run=function(e,n){var t,r,o,i=function(){var i=arguments;return s.use(e,function(e){return c.isFunction(e)?(o=e.apply(null,i),t&&t(o),r=!0,o):void 0},n),{on:function(e){r?e(o):t=e}}};return i},s.register=function(e,n,t,r){return c.isFunction(n)||c.isFunction(t)?u(e,n,t,r):{depends:function(){return n=c.argsToArray(arguments),this},factory:function(t,r){u(e,n,t,r)}}},s.unresolve=function(e){a.unresolve(e)},s.noConflict=function(){return window[e]=g,s},s.onDocumentReady=n,s.log=!0,a.setModule("Util",c).setModule("Injector",a).setModule("element",r).setModule("registerAll",t).setModule("httpGet",i).setModule("appConfig",d),window[e]&&(c.warn("a preexisting value at namespace '"+e+"' has been overwritten."),g=window[e]),window[e]=s,window.register||(window.register=s.register),window.use||(window.use=s.use),s}("kilo");